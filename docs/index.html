<!-- This is based on https://learn.microsoft.com/en-us/microsoft-edge/progressive-web-apps-chromium/how-to/ (accessed: 11.01.2023) -->
<!-- <!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="/mobile_component/images/mobile_logo_192.png" />
    <link rel="manifest" href="/mobile_component/manifest.json">
    <title>My Sample PWA</title>
  </head>
  <body>
    <h1>Mobile Component</h1>
    <a href="https://medium.com/@onejohi/introducing-geolocation-in-your-pwas-65713faba51a">Location Data Tutorial</a> 
    <a href="https://www.w3schools.com/js/js_api_geolocation.asp">Other Location Data Tutorial</a> 
    <p>Start Server in parent folder mit npx http-server</p> -->
    <!-- <button onclick="getLocation()">Try It</button> -->
    <!-- <p id="demo"></p>

    <div id="demoMap" style="height:250px"></div>

  </body>
  <script>
    if('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/mobile_component/sw.js', { scope: '/mobile_component/' });
    }
    </script>
    <script type="text/javascript" src="OpenLayers.js"></script> -->
    <!-- <script type=zc"text/javascript" src="location.js"></script> -->
    <!-- <script>
      window.onload = function(){

        function showPosition(position) {
          x.innerHTML = position.coords.latitude + "," + position.coords.longitude
        }

        const x = document.getElementById("demo");
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(showPosition);
        } else {
          x.innerHTML = "Geolocation is not supported by this browser.";
        }
        
      }
      </script> 
      <script>
        map = new OpenLayers.Map("demoMap");
        map.addLayer(new OpenLayers.Layer.OSM());
        map.zoomToMaxExtent();
    </script>
</html> -->
<!-- this is based on this tutorial: https://wiki.openstreetmap.org/wiki/OpenLayers_Simple_Example (accessed: 12.01.2023)--> 
<!DOCTYPE HTML>
<html>
  <head>
    <title>OpenLayers Demo</title>
    <style type="text/css">
      html, body, #basicMap {
          width: 100%;
          height: 100%;
          margin: 0;
      }
    </style>
    <script src="OpenLayers.js"></script>
    <script>
      function init() {

        var location;
        if (navigator.geolocation) {
          location = navigator.geolocation.getCurrentPosition(map);
        }

        function map(pos) {
          map = new OpenLayers.Map("basicMap");
          var mapnik         = new OpenLayers.Layer.OSM();
          var fromProjection = new OpenLayers.Projection("EPSG:4326");   // Transform from WGS 1984
          var toProjection   = new OpenLayers.Projection("EPSG:900913"); // to Spherical Mercator Projection
          var position       = new OpenLayers.LonLat(pos.coords.longitude,pos.coords.latitude).transform( fromProjection, toProjection);
          var zoom           = 15; 

          // add current location
          var markers = new OpenLayers.Layer.Markers( "Markers" );
          map.addLayer(markers);
          markers.addMarker(new OpenLayers.Marker(position));
          
          map.addLayer(mapnik);
          map.setCenter(position, zoom );
        }
      }
    </script>
  </head>
  <body onload="init();">
    <div id="basicMap"></div>
  </body>
</html>